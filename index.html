<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Farmer's Proud - Patidar Food Industries</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Courier+Prime&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #d32f2f;
      --primary-dark: #b71c1c;
      --accent: #fbc02d;
      --bg: #fdfbf7;
      --product-bg: #fff8e1;
      --text: #333333;
      --blue-ring: #1565c0;
      --whatsapp: #25D366;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    html { scroll-behavior: smooth; }
    body { font-family: 'Poppins', sans-serif; background: var(--bg); color: var(--text); overflow-x: hidden; display: flex; flex-direction: column; min-height: 100vh; }

    /* --- Header --- */
    header {
      position: sticky; top: 0; background: rgba(255, 255, 255, 0.98); backdrop-filter: blur(10px);
      z-index: 1000; padding: 0.5rem 0; box-shadow: 0 2px 15px rgba(0,0,0,0.05); border-bottom: 3px solid var(--primary);
    }
    .nav-container {
      max-width: 1200px; margin: 0 auto; padding: 0 1.5rem; display: flex; justify-content: space-between; align-items: center;
    }

    /* --- Logo --- */
    .brand-logo { display: flex; flex-direction: column; align-items: center; transform: scale(0.85); }
    .logo-top { display: flex; flex-direction: column; align-items: center; position: relative; }
    .logo-icon-circle {
      width: 60px; height: 60px; border: 4px solid var(--blue-ring); border-radius: 50%;
      background: #111; display: flex; align-items: center; justify-content: center;
      position: relative; margin-bottom: -15px; z-index: 2; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    .logo-emoji { font-size: 1.8rem; position: absolute; filter: drop-shadow(0 0 5px orange); }
    .fire-anim { animation: flicker 1.5s infinite alternate; opacity: 0.8; font-size: 2rem; top: -5px; }
    @keyframes flicker { 0% { opacity: 0.7; transform: scale(1); } 100% { opacity: 1; transform: scale(1.1); } }
    .logo-text-box {
      background: #222; color: #fbc02d; padding: 15px 15px 5px 15px; border-radius: 4px;
      font-weight: 800; text-transform: uppercase; font-size: 1.2rem; letter-spacing: 1px; line-height: 1; z-index: 1;
    }
    .logo-tagline {
      background: white; border: 1px solid var(--primary); color: var(--primary); font-size: 0.7rem;
      font-weight: 700; padding: 2px 10px; border-radius: 20px; margin-top: -8px; z-index: 3;
    }

    /* Nav & Cart */
    .nav-links { display: flex; gap: 1.5rem; list-style: none; }
    .nav-links a { color: #333; text-decoration: none; font-weight: 600; font-size: 0.9rem; text-transform: uppercase; }
    
    .cart-icon-btn {
      background: var(--primary); border: none; padding: 0.6rem 1.2rem; border-radius: 50px;
      color: white; cursor: pointer; font-weight: 600; display: flex; align-items: center; gap: 8px; transition: 0.3s;
      box-shadow: 0 4px 10px rgba(211, 47, 47, 0.3);
    }

    /* --- Floating WhatsApp Icon --- */
    .wa-float {
      position: fixed; bottom: 25px; left: 25px; background: #25D366; color: white;
      width: 55px; height: 55px; border-radius: 50%; text-align: center; 
      box-shadow: 2px 2px 15px rgba(0,0,0,0.3); z-index: 2500; display: flex; align-items: center; justify-content: center;
      text-decoration: none; transition: 0.3s; animation: popIn 1s ease;
    }
    .wa-float:hover { transform: scale(1.1); background: #20b858; }
    .wa-float svg { width: 30px; height: 30px; fill: white; }

    /* --- Hero Section --- */
    .hero {
      min-height: 70vh; display: flex; align-items: center; justify-content: center;
      background: radial-gradient(circle at 50% 50%, #fff, #ffebee); padding: 2rem 1rem;
    }
    .hero-grid { display: grid; grid-template-columns: 1fr 1fr; max-width: 1200px; width: 100%; align-items: center; gap: 2rem; }
    .hero-text h1 { font-size: clamp(2rem, 5vw, 3.5rem); color: #222; line-height: 1.2; margin-bottom: 1rem; }
    .hero-text span { color: var(--primary); }
    .hero-text p { font-size: 1rem; color: #555; margin-bottom: 2rem; }
    .btn {
      padding: 1rem 2rem; background: var(--primary); color: white; text-decoration: none;
      border-radius: 8px; font-weight: 600; transition: 0.3s; border: none; cursor: pointer; display: inline-block;
    }

    /* SVG Plant */
    .plant-svg { width: 100%; height: auto; max-height: 400px; overflow: visible; }
    .svg-stem { fill: none; stroke: #4a7c29; stroke-width: 4; stroke-linecap: round; stroke-dasharray: 1000; stroke-dashoffset: 1000; animation: drawStem 2.5s ease-out forwards; }
    .svg-leaf { fill: #6fa83d; opacity: 0; transform-origin: center; transform: scale(0); animation: growLeaf 1s ease-out forwards; }
    .svg-flower-center { fill: #6d4c41; opacity: 0; transform: scale(0); transform-origin: center; animation: bloom 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
    .svg-petal { fill: #ffb74d; opacity: 0; transform-origin: center; transform: scale(0); animation: bloom 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
    .leaf-1 { animation-delay: 1s; } .leaf-2 { animation-delay: 1.3s; } .leaf-3 { animation-delay: 1.6s; } .leaf-4 { animation-delay: 1.9s; }
    .flower-group { animation-delay: 2.5s; } .svg-petal:nth-child(1) { animation-delay: 2.6s; } .svg-petal:nth-child(2) { animation-delay: 2.7s; }
    .svg-petal:nth-child(3) { animation-delay: 2.8s; } .svg-petal:nth-child(4) { animation-delay: 2.9s; } .svg-petal:nth-child(5) { animation-delay: 3.0s; } .svg-flower-center { animation-delay: 3.2s; }
    @keyframes drawStem { to { stroke-dashoffset: 0; } } @keyframes growLeaf { to { opacity: 1; transform: scale(1); } } @keyframes bloom { to { opacity: 1; transform: scale(1); } }

    /* --- Products Section --- */
    .section { padding: 4rem 1.5rem; }
    .bg-products { background: var(--product-bg); }
    .section-title { text-align: center; font-size: 2.2rem; color: #222; margin-bottom: 0.5rem; font-weight: 700; }
    .section-subtitle { text-align: center; color: #666; margin-bottom: 3rem; font-size: 0.9rem; }
    
    .products-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; max-width: 1200px; margin: 0 auto; }
    
    .product-card {
      background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 10px 25px rgba(0,0,0,0.05);
      transition: 0.3s; border: 1px solid rgba(0,0,0,0.05); display: flex; flex-direction: column;
    }
    
    /* --- FIXED PACKET DESIGN --- */
    .p-img-container {
      height: 300px; background: white; display: flex; align-items: center; justify-content: center;
      position: relative; overflow: hidden; padding-top: 20px;
    }
    
    .spice-packet {
      width: 170px; height: 240px;
      background: linear-gradient(to bottom, var(--packet-color) 80%, #f9f9f9 80%);
      border-radius: 8px 8px 25px 25px;
      position: relative;
      display: flex; flex-direction: column; align-items: center;
      box-shadow: inset 10px 0 20px rgba(0,0,0,0.1), inset -10px 0 20px rgba(0,0,0,0.1), 0 15px 25px rgba(0,0,0,0.2);
      transform: rotate(-2deg); transition: 0.3s;
      border: 1px solid rgba(0,0,0,0.05);
    }
    
    .spice-packet::before {
      content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background: linear-gradient(105deg, transparent 30%, rgba(255,255,255,0.3) 40%, transparent 50%);
      border-radius: 8px 8px 25px 25px; pointer-events: none;
    }

    .packet-veg-mark {
      position: absolute; top: 12px; left: 12px; width: 16px; height: 16px; border: 1px solid #008000;
      display: flex; align-items: center; justify-content: center; background: white; border-radius: 2px;
    }
    .packet-veg-mark::after { content: ''; width: 8px; height: 8px; background: #008000; border-radius: 50%; }
    
    .packet-logo-area { margin-top: 35px; display: flex; flex-direction: column; align-items: center; }
    .pkt-circle {
      width: 45px; height: 45px; border: 2px solid var(--blue-ring); border-radius: 50%;
      background: #111; display: flex; align-items: center; justify-content: center; font-size: 1.2rem;
      margin-bottom: -12px; z-index: 2; box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    .pkt-text {
      background: #222; color: #fbc02d; font-size: 0.65rem; padding: 10px 6px 3px 6px;
      border-radius: 3px; font-weight: 800; text-transform: uppercase; letter-spacing: 0.5px;
    }
    .pkt-tag {
      background: white; color: var(--primary); font-size: 0.45rem; padding: 2px 8px;
      border-radius: 10px; margin-top: -5px; z-index: 3; font-weight: 700; border: 1px solid var(--primary);
    }

    .packet-name-area { margin-top: auto; margin-bottom: 10px; width: 100%; text-align: center; z-index: 2; }
    
    .pkt-name-en { 
      color: white; font-weight: 900; font-size: 1.1rem; text-transform: uppercase; line-height: 1; 
      text-shadow: 0 2px 5px rgba(0,0,0,0.4); 
      margin-bottom: 8px;
    }
    .pkt-name-hi { 
      color: #333; font-weight: 700; font-size: 1rem; 
      margin-top: 5px;
    }

    .packet-red { --packet-color: #d32f2f; }
    .packet-yellow { --packet-color: #fbc02d; }
    .packet-green { --packet-color: #43a047; }

    .p-details { padding: 1.5rem; flex-grow: 1; display: flex; flex-direction: column; }
    .p-title { font-size: 1.3rem; font-weight: 700; margin-bottom: 0.5rem; color: #222; }
    .weight-select { width: 100%; padding: 0.9rem; margin-bottom: 1rem; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; background: #fff; }
    .price-tag { font-size: 1.5rem; font-weight: 700; color: var(--primary); margin-bottom: 1rem; display: block; }
    .add-btn { width: 100%; padding: 1rem; background: var(--primary); color: white; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; font-size: 1rem; }

    /* --- Contact & Map --- */
    .contact-wrapper { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; max-width: 1200px; margin: 0 auto; }
    .contact-info { background: white; padding: 2rem; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); }
    .map-container { border-radius: 15px; overflow: hidden; height: 400px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); }
    .map-container iframe { width: 100%; height: 100%; border: 0; }
    .contact-highlight { color: var(--primary); font-weight: 700; font-size: 1.2rem; }
    .contact-label { font-weight: 700; color: #222; display: block; margin-bottom: 5px; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.5px; }

    /* --- Footer --- */
    footer { background: #1a1a1a; color: white; padding: 3rem 1.5rem 6rem 1.5rem; margin-top: auto; }
    .footer-container { max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; }
    .footer-col h3 { font-size: 1.3rem; margin-bottom: 1rem; color: var(--accent); }
    .footer-links a { color: #ccc; text-decoration: none; display: flex; align-items: center; gap: 8px; margin-bottom: 0.8rem; }
    .copyright { text-align: center; margin-top: 3rem; padding-top: 2rem; border-top: 1px solid #333; color: #666; font-size: 0.8rem; }

    /* --- Cart Sidebar --- */
    .sidebar {
      position: fixed; top: 0; right: -100%; width: 100%; max-width: 400px; height: 100vh; background: white;
      box-shadow: -5px 0 30px rgba(0,0,0,0.2); z-index: 2000; transition: 0.3s ease; display: flex; flex-direction: column;
    }
    .sidebar.active { right: 0; }
    .sidebar-header { padding: 1.5rem; background: var(--primary); color: white; display: flex; justify-content: space-between; align-items: center; }
    .sidebar-body { flex: 1; overflow-y: auto; padding: 1.5rem; }
    .sidebar-footer { padding: 1.5rem; background: #f8f9fa; border-top: 1px solid #ddd; }
    .cart-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid #eee; }

    /* --- Modals --- */
    .modal-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8);
      z-index: 3000; display: none; align-items: center; justify-content: center; backdrop-filter: blur(3px);
    }
    .modal-overlay.active { display: flex; }
    .modal-box {
      background: white; width: 95%; max-width: 500px; border-radius: 15px; padding: 1.5rem;
      position: relative; animation: popIn 0.3s ease; max-height: 90vh; overflow-y: auto;
    }
    @keyframes popIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    .form-group { margin-bottom: 1rem; }
    .form-input { width: 100%; padding: 1rem; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; }
    
    /* --- Invoice Design --- */
    .invoice-box { border: 2px dashed var(--primary); padding: 1.5rem; background: #fffdf5; font-family: 'Courier Prime', monospace; margin-bottom: 1rem; }
    .invoice-header { text-align: center; margin-bottom: 1.5rem; border-bottom: 2px solid #333; padding-bottom: 1rem; }
    .invoice-row { display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.9rem; }
    .invoice-divider { border-bottom: 1px dashed #aaa; margin: 1rem 0; }
    .invoice-total { font-size: 1.2rem; font-weight: 700; border-top: 2px solid #333; padding-top: 1rem; margin-top: 1rem; }
    .stamp {
      color: var(--primary); border: 3px solid var(--primary); display: inline-block; padding: 0.5rem;
      transform: rotate(-5deg); font-weight: 700; font-size: 1rem; margin-top: 1rem; opacity: 0.9;
    }

    /* --- MOBILE OPTIMIZATION --- */
    @media (max-width: 768px) {
      .nav-links { display: none; }
      .hero-grid { grid-template-columns: 1fr; text-align: center; gap: 1rem; }
      .hero-text h1 { font-size: 2.5rem; }
      .contact-wrapper { grid-template-columns: 1fr; }
      .products-grid { grid-template-columns: 1fr; max-width: 400px; }
      
      .cart-icon-btn {
        position: fixed; bottom: 20px; right: 20px; z-index: 1500;
        padding: 1rem 1.5rem; font-size: 1.1rem; box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        border-radius: 50px;
      }
      
      .modal-box { padding: 1rem; width: 90%; }
      .invoice-box { padding: 1rem; }
    }

    @media print {
      body * { visibility: hidden; }
      #bill-modal, #bill-modal * { visibility: visible; }
      #bill-modal { position: absolute; left: 0; top: 0; width: 100%; height: 100%; background: white; display: flex !important; align-items: flex-start; padding-top: 0; }
      .modal-box { box-shadow: none; width: 100%; max-width: 100%; padding: 0; }
      .no-print { display: none !important; }
      .invoice-box { border: 2px solid #000; }
    }
  </style>
</head>
<body>

  <!-- Floating WhatsApp Icon -->
  <a href="https://wa.me/919116567077" class="wa-float" target="_blank">
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
    </svg>
  </a>

  <!-- Header -->
  <header>
    <div class="nav-container">
      <div class="brand-logo">
        <div class="logo-top">
          <div class="logo-icon-circle">
            <span class="logo-emoji fire-anim">üî•</span>
            <span class="logo-emoji">üå∂Ô∏è</span>
          </div>
          <div class="logo-text-box">Farmer's Proud</div>
          <div class="logo-tagline">‡§ï‡§ø‡§∏‡§æ‡§® ‡§ï‡§æ ‡§ó‡§∞‡•ç‡§µ</div>
        </div>
      </div>

      <ul class="nav-links">
        <li><a href="#home">Home</a></li>
        <li><a href="#products">Products</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
      
      <button class="cart-icon-btn" onclick="toggleCart()">
        üõí Cart (<span id="cart-count">0</span>)
      </button>
    </div>
  </header>

  <!-- Hero Section -->
  <section id="home" class="hero">
    <div class="hero-grid">
      <div class="hero-text">
        <h1>Purity & Quality<br><span>Now in Your City!</span></h1>
        <p>Farmer's Proud spices bring the authentic fragrance of nature to your business. Join our dealership today.</p>
        <a href="#products" class="btn">View Catalog</a>
      </div>
      
      <div class="plant-art">
        <svg class="plant-svg" viewBox="0 0 400 500" xmlns="http://www.w3.org/2000/svg">
          <path d="M150 450 L250 450 L270 350 L130 350 Z" fill="#8d6e63" />
          <rect x="120" y="330" width="160" height="20" rx="5" fill="#795548" />
          <path class="svg-stem" d="M200 350 Q200 250 200 200 T200 100" />
          <g class="svg-leaf leaf-1"><path d="M200 300 Q150 280 120 300 Q150 320 200 300" /></g>
          <g class="svg-leaf leaf-2"><path d="M200 250 Q250 230 280 250 Q250 270 200 250" /></g>
          <g class="svg-leaf leaf-3"><path d="M200 180 Q140 160 110 180 Q140 200 200 180" /></g>
          <g class="svg-leaf leaf-4"><path d="M200 140 Q260 120 290 140 Q260 160 200 140" /></g>
          <g class="flower-group" transform="translate(200, 100)">
            <circle class="svg-petal" cx="0" cy="-30" r="20" />
            <circle class="svg-petal" cx="25" cy="-10" r="20" />
            <circle class="svg-petal" cx="18" cy="25" r="20" />
            <circle class="svg-petal" cx="-18" cy="25" r="20" />
            <circle class="svg-petal" cx="-25" cy="-10" r="20" />
            <circle class="svg-flower-center" cx="0" cy="0" r="15" />
          </g>
        </svg>
      </div>
    </div>
  </section>

  <!-- Products Section -->
  <section id="products" class="section bg-products">
    <div class="container">
      <h2 class="section-title">Our Premium Spices</h2>
      <p class="section-subtitle">100% Natural, No Preservatives. Wholesale Packs.</p>
      <div class="products-grid" id="products-grid">
        <!-- Products injected via JS -->
      </div>
    </div>
  </section>

  <!-- Contact & Map Section -->
  <section id="contact" class="section" style="background: #fff;">
    <div class="container">
      <h2 class="section-title">Contact For Dealership</h2>
      <div class="contact-wrapper">
        <div class="contact-info">
          <h3>Farmer's Proud HQ</h3>
          <p style="margin-bottom: 1.5rem; color: #666;">Increase the fragrance of your business by joining us today.</p>
          
          <div style="margin-bottom: 1.5rem;">
            <span class="contact-label">üìû Contact Numbers:</span>
            <span class="contact-highlight">9694005846</span><br>
            <span class="contact-highlight">9929085667</span>
          </div>
          
          <div style="margin-bottom: 1.5rem;">
            <span class="contact-label">üìç Address:</span>
            <strong>Patidar Food Industries</strong><br>
            N.H.52 Kota Road Industrial Area Ralayta,<br>
            Jhalrapatan, Jhalawar 326023
          </div>
          
          <div style="margin-bottom: 1rem;">
            <span class="contact-label">üìß Email:</span>
            sales@farmersproud.com
          </div>
        </div>
        <div class="map-container">
          <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d57903.02646367686!2d76.1386896!3d24.5388654!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x396f8e8f7c7d6b2b%3A0x4056c4f8f8f8f8f8!2sJhalrapatan%2C%20Rajasthan%20326023!5e0!3m2!1sen!2sin" allowfullscreen="" loading="lazy"></iframe>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="footer-container">
      <div class="footer-col">
        <h3>Farmer's Proud</h3>
        <p><strong>Patidar Food Industries</strong><br>Bringing the purity and trusted quality of spices to your city. From the farm directly to your kitchen.</p>
      </div>
      <div class="footer-col">
        <h3>Products</h3>
        <ul class="footer-links">
          <li><a href="#products">Red Chilli Powder</a></li>
          <li><a href="#products">Turmeric Powder</a></li>
          <li><a href="#products">Coriander Powder</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h3>Connect With Us</h3>
        <ul class="footer-links">
          <li><a href="https://www.instagram.com/farmers_proud_spices?igsh=dml0NzVmb3Vkcndv" target="_blank">üì∏ Follow on Instagram</a></li>
          <li><a href="tel:9694005846">üìû 9694005846</a></li>
          <li><a href="tel:9929085667">üìû 9929085667</a></li>
        </ul>
      </div>
    </div>
    <div class="copyright">
      &copy; 2025 Patidar Food Industries (Farmer's Proud). All rights reserved.
    </div>
  </footer>

  <!-- Cart Sidebar -->
  <div class="sidebar" id="cart-sidebar">
    <div class="sidebar-header">
      <h3>Your Cart</h3>
      <button onclick="toggleCart()" style="background:none; border:none; color:white; font-size:1.5rem; cursor:pointer;">&times;</button>
    </div>
    <div class="sidebar-body" id="cart-items"></div>
    <div class="sidebar-footer">
      <div class="cart-total-row">
        <span>Subtotal:</span>
        <span id="cart-subtotal">‚Çπ0</span>
      </div>
      <button class="btn" style="width: 100%" onclick="openCheckoutModal()">Proceed to Buy</button>
    </div>
  </div>

  <!-- Checkout Modal -->
  <div class="modal-overlay" id="checkout-modal">
    <div class="modal-box">
      <h2 style="margin-bottom: 1.5rem; color: var(--primary);">Checkout Details</h2>
      <div id="checkout-form">
        <div class="form-group">
          <label>Full Name</label>
          <input type="text" id="c-name" class="form-input" required placeholder="Enter your name">
        </div>
        <div class="form-group">
          <label>Phone Number</label>
          <input type="tel" id="c-phone" class="form-input" required placeholder="10-digit mobile number">
        </div>
        <div class="form-group">
          <label>Delivery Address</label>
          <textarea id="c-address" class="form-input" rows="3" required placeholder="Full address with pincode"></textarea>
        </div>
        <div style="display: flex; gap: 1rem; margin-top: 2rem;">
          <button type="button" class="btn" style="background: #ccc; color: #333;" onclick="closeModal('checkout-modal')">Cancel</button>
          <button type="button" class="btn" style="flex: 1;" onclick="validateAndGenerateBill()">Confirm & WhatsApp</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bill/Invoice Modal (Visual Confirmation) -->
  <div class="modal-overlay" id="bill-modal">
    <div class="modal-box">
      <div class="invoice-box" id="invoice-content">
        <div class="invoice-header">
          <h2>FARMER'S PROUD</h2>
          <p>Patidar Food Industries</p>
          <small id="bill-date"></small>
        </div>
        
        <div style="margin-bottom: 1rem;">
          <strong>Customer:</strong> <span id="bill-name"></span><br>
          <strong>Phone:</strong> <span id="bill-phone"></span><br>
          <strong>Address:</strong> <span id="bill-address"></span>
        </div>

        <div class="invoice-divider"></div>
        <div id="bill-items"></div>
        <div class="invoice-divider"></div>

        <div class="invoice-row"><span>Subtotal:</span><span id="bill-subtotal">‚Çπ0</span></div>
        <div class="invoice-row" style="color: green;"><span>Bulk Discount (10%):</span><span id="bill-discount">-‚Çπ0</span></div>
        
        <div class="invoice-total invoice-row">
          <span>GRAND TOTAL:</span>
          <span id="bill-total">‚Çπ0</span>
        </div>

        <div style="text-align: center;">
          <div class="stamp">ORDER GENERATED</div>
          <p style="margin-top: 1rem; font-size: 0.8rem;">WhatsApp opened! Please click 'Send' to confirm.</p>
        </div>
      </div>
      
      <div class="no-print" style="display: flex; gap: 1rem;">
        <button class="btn" style="flex: 1; background: #333;" onclick="printBill()">Print / Save PDF</button>
        <button class="btn" style="flex: 1;" onclick="closeBill()">Close</button>
      </div>
    </div>
  </div>

  <script>
    const products = [
      {
        id: 1,
        name: "Red Chilli Powder",
        hindi: "‡§≤‡§æ‡§≤ ‡§Æ‡§ø‡§∞‡•ç‡§ö ‡§™‡§æ‡§â‡§°‡§∞",
        desc: "Vibrant red, spicy and pure.",
        packetClass: "packet-red",
        icon: "üå∂Ô∏è",
        basePrice: 320,
        variants: [ {w:"1kg", m:1}, {w:"2kg", m:2}, {w:"5kg", m:4.8}, {w:"10kg", m:9.5} ]
      },
      {
        id: 2,
        name: "Turmeric Powder",
        hindi: "‡§π‡§≤‡•ç‡§¶‡•Ä ‡§™‡§æ‡§â‡§°‡§∞",
        desc: "Golden yellow, high curcumin.",
        packetClass: "packet-yellow",
        icon: "‚ú®",
        basePrice: 240,
        variants: [ {w:"1kg", m:1}, {w:"2kg", m:2}, {w:"5kg", m:4.8}, {w:"10kg", m:9.5} ]
      },
      {
        id: 3,
        name: "Coriander Powder",
        hindi: "‡§ß‡§®‡§ø‡§Ø‡§æ ‡§™‡§æ‡§â‡§°‡§∞",
        desc: "Fresh aroma, green pack.",
        packetClass: "packet-green",
        icon: "üåø",
        basePrice: 220,
        variants: [ {w:"1kg", m:1}, {w:"2kg", m:2}, {w:"5kg", m:4.8}, {w:"10kg", m:9.5} ]
      }
    ];

    let cart = [];

    window.onload = () => { renderProducts(); };

    function renderProducts() {
      const grid = document.getElementById('products-grid');
      grid.innerHTML = products.map((p, idx) => `
        <div class="product-card">
          <div class="p-img-container">
            <div class="spice-packet ${p.packetClass}">
              <div class="packet-veg-mark"></div>
              <div class="packet-logo-area">
                <div class="pkt-circle">
                  <span style="font-size:0.8rem">üå∂Ô∏è</span>
                </div>
                <div class="pkt-text">Farmer's Proud</div>
                <div class="pkt-tag">‡§ï‡§ø‡§∏‡§æ‡§® ‡§ï‡§æ ‡§ó‡§∞‡•ç‡§µ</div>
              </div>
              <div class="packet-name-area">
                <div class="pkt-name-en">${p.name.replace(' ', '<br>')}</div>
                <div class="pkt-name-hi">${p.hindi}</div>
              </div>
            </div>
          </div>
          <div class="p-details">
            <h3 class="p-title">${p.name}</h3>
            <select class="weight-select" id="select-${idx}" onchange="updatePrice(${idx})">
              ${p.variants.map((v, vIdx) => `<option value="${vIdx}">${v.w}</option>`).join('')}
            </select>
            <span class="price-tag" id="price-${idx}">‚Çπ${p.basePrice}</span>
            <button class="add-btn" onclick="addToCart(${idx})">Add to Cart</button>
          </div>
        </div>
      `).join('');
    }

    function updatePrice(idx) {
      const select = document.getElementById(`select-${idx}`);
      const vIdx = select.value;
      const price = Math.round(products[idx].basePrice * products[idx].variants[vIdx].m);
      document.getElementById(`price-${idx}`).innerText = `‚Çπ${price}`;
    }

    function addToCart(idx) {
      const select = document.getElementById(`select-${idx}`);
      const vIdx = select.value;
      const product = products[idx];
      const variant = product.variants[vIdx];
      const finalPrice = Math.round(product.basePrice * variant.m);

      const existing = cart.find(item => item.id === product.id && item.weight === variant.w);
      if(existing) { existing.qty++; } 
      else { cart.push({ id: product.id, name: product.name, weight: variant.w, price: finalPrice, qty: 1 }); }
      
      updateCartUI();
      document.getElementById('cart-sidebar').classList.add('active');
    }

    function updateCartUI() {
      const container = document.getElementById('cart-items');
      const countSpan = document.getElementById('cart-count');
      const subtotalSpan = document.getElementById('cart-subtotal');
      
      countSpan.innerText = cart.reduce((acc, item) => acc + item.qty, 0);
      
      if(cart.length === 0) {
        container.innerHTML = "<p style='text-align:center; color:#999;'>Cart is empty</p>";
        subtotalSpan.innerText = "‚Çπ0";
        return;
      }

      let total = 0;
      container.innerHTML = cart.map((item, i) => {
        total += item.price * item.qty;
        return `
          <div class="cart-item">
            <div><strong>${item.name}</strong><br><small>${item.weight} x ${item.qty}</small></div>
            <div style="text-align:right">
              <div>‚Çπ${item.price * item.qty}</div>
              <button onclick="removeFromCart(${i})" style="color:red; background:none; border:none; cursor:pointer; font-size:0.8rem;">Remove</button>
            </div>
          </div>
        `;
      }).join('');
      subtotalSpan.innerText = `‚Çπ${total}`;
    }

    function removeFromCart(idx) { cart.splice(idx, 1); updateCartUI(); }
    function toggleCart() { document.getElementById('cart-sidebar').classList.toggle('active'); }
    function openCheckoutModal() {
      if(cart.length === 0) return alert("Cart is empty!");
      toggleCart();
      document.getElementById('checkout-modal').classList.add('active');
    }
    function closeModal(id) { document.getElementById(id).classList.remove('active'); }

    // --- MAIN FUNCTION: GENERATE TEXT BILL & OPEN WHATSAPP ---
    function validateAndGenerateBill() {
      const name = document.getElementById('c-name').value;
      const phone = document.getElementById('c-phone').value;
      const address = document.getElementById('c-address').value;

      if(!name || !phone || !address) {
        alert("Please fill in all fields (Name, Phone, Address) to confirm order.");
        return;
      }

      let subtotal = cart.reduce((acc, item) => acc + (item.price * item.qty), 0);
      let discount = subtotal > 2000 ? Math.round(subtotal * 0.10) : 0;
      let taxableAmount = subtotal - discount;
      let grandTotal = taxableAmount;

      // 1. Update Local Bill Modal (Visual)
      document.getElementById('bill-date').innerText = new Date().toLocaleString();
      document.getElementById('bill-name').innerText = name;
      document.getElementById('bill-phone').innerText = phone;
      document.getElementById('bill-address').innerText = address;
      
      document.getElementById('bill-items').innerHTML = cart.map(item => `
        <div class="invoice-row"><span>${item.name} (${item.weight}) x${item.qty}</span><span>‚Çπ${item.price * item.qty}</span></div>
      `).join('');

      document.getElementById('bill-subtotal').innerText = `‚Çπ${subtotal}`;
      document.getElementById('bill-discount').innerText = `-‚Çπ${discount}`;
      document.getElementById('bill-total').innerText = `‚Çπ${grandTotal}`;

      // 2. Construct "Text Bill" for WhatsApp
      // Using %0A for new lines and standard WhatsApp formatting (*bold*, _italics_)
      let waMsg = `üßæ *FARMER'S PROUD INVOICE* üßæ%0A`;
      waMsg += `üìÖ Date: ${new Date().toLocaleDateString()}%0A%0A`;
      
      waMsg += `üë§ *CUSTOMER DETAILS*%0A`;
      waMsg += `Name: ${name}%0A`;
      waMsg += `Phone: ${phone}%0A`;
      waMsg += `Address: ${address}%0A`;
      waMsg += `------------------------------%0A`;
      
      waMsg += `üõí *ORDER ITEMS*%0A`;
      cart.forEach((item, index) => {
        waMsg += `${index + 1}. ${item.name} (${item.weight}) x ${item.qty}%0A`;
        waMsg += `   Price: ‚Çπ${item.price * item.qty}%0A`;
      });
      waMsg += `------------------------------%0A`;
      
      waMsg += `üíµ *Subtotal:* ‚Çπ${subtotal}%0A`;
      if(discount > 0) waMsg += `üè∑Ô∏è *Discount:* -‚Çπ${discount}%0A`;
      waMsg += `üí∞ *GRAND TOTAL: ‚Çπ${grandTotal}*%0A`;
      waMsg += `------------------------------%0A`;
      waMsg += `Please confirm and process this order.`;

      // 3. Open WhatsApp
      const targetNumber = "919116567077 "; 
      const waUrl = `https://wa.me/${targetNumber}?text=${waMsg}`;
      
      window.open(waUrl, '_blank');

      // 4. Show Local Modal
      closeModal('checkout-modal');
      document.getElementById('bill-modal').classList.add('active');
    }

    function printBill() { window.print(); }
    function closeBill() { cart = []; updateCartUI(); closeModal('bill-modal'); location.reload(); }
  </script>
</body>
</html>